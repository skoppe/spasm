<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <title>Spasm - fetch example</title>
    </head>
    <body>
        <div id="root"></div>
    <script type="text/javascript">!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"spasm",function(){return g}),n.d(r,"encoders",function(){return f}),n.d(r,"decoders",function(){return h}),n.d(r,"jsExports",function(){return v});var o={};n.r(o),n.d(o,"jsExports",function(){return P});var s={};n.r(s),n.d(s,"nodes",function(){return k}),n.d(s,"addPtr",function(){return C}),n.d(s,"jsExports",function(){return R});var a=arguments;const d=(e,t,n)=>{throw"ABORT: $what @ $file:$line"},c=new TextDecoder("utf-8"),i=new TextEncoder,l=new WebAssembly.Memory({initial:256,maximum:256});let u=3,p={1:document,2:window},_=l.buffer,m=e=>null===e||null==e?0:(p[++u]=e,u),b=e=>p[e];const g={memory:l,heapi32s:new Int32Array(_),heapi32u:new Uint32Array(_),heapi16s:new Int16Array(_),heapi16u:new Uint16Array(_),heapi8s:new Int8Array(_),heapi8u:new Uint8Array(_),heapf32:new Float32Array(_),heapf64:new Float64Array(_),instance:null,init:e=>{let t={env:Object.assign.apply(null,e.map(e=>e.jsExports).filter(e=>!!e))};WebAssembly.instantiateStreaming(fetch("fetch"),t).then(e=>{g.instance=e.instance,e.instance.exports._start()})},objects:p,addObject:m};let f={string:(e,t)=>{const n=i.encode(t),r=g.instance.exports.allocString(n.length),o=new Uint8Array(_,r,n.length);return g.heapi32u[e/4]=n.length,g.heapi32u[e/4+1]=r,o.set(n),e}},h={string:(e,t)=>(null==t&&(t=g.heapi32u[(e+4)/4],e=g.heapi32u[e/4]),c.decode(new DataView(_,t,e)))},v={onOutOfMemoryError:()=>d(),_d_assert:(e,t)=>d(),doLog:e=>console.log(e),memory:g.memory,__assert:()=>{},_Unwind_Resume:()=>{console.log(a)},_d_dynamic_cast:()=>{console.log(a)},spasm_add__bool:e=>m(!!e),spasm_add__int:m,spasm_add__uint:m,spasm_add__long:m,spasm_add__ulong:m,spasm_add__short:m,spasm_add__ushort:m,spasm_add__byte:m,spasm_add__ubyte:m,spasm_add__float:m,spasm_add__double:m,spasm_add__object:()=>m({}),spasm_add__string:(e,t)=>m(h.string(e,t)),spasm_get__field:(e,t,n)=>m(b(e)[h.string(t,n)]),spasm_get__int:b,spasm_get__uint:b,spasm_get__long:b,spasm_get__ulong:b,spasm_get__short:b,spasm_get__ushort:b,spasm_get__float:b,spasm_get__double:b,spasm_get__byte:b,spasm_get__ubyte:b,spasm_get__string:(e,t)=>{f.string(e,b(t))},spasm_removeObject:e=>{delete p[e]}},y=g;const j=e=>y.heapi32u[e/4],S=(e,t)=>{((e,t)=>y.heapi32u[e/4]=t)(e,y.addObject(t))},w=e=>y.objects[j(e)],x=(f.string,h.string),E=e=>y.instance.exports.__indirect_function_table.get(e),O=w,A=e=>0==j(e)?O(e+4):1==j(e)?x(e+4):void 0;let P={Body_json:e=>y.addObject(y.objects[e].json()),WindowOrWorkerGlobalScope_fetch_0:(e,t)=>y.addObject(y.objects[e].fetch((e=>A(e))(t))),console_log:e=>{console.log(y.objects[e])},promise_then_6uhandlehandle:(e,t,n)=>y.addObject(y.objects[e].then(e=>(S(0,e),E(n)(512,t,0),w(512)))),promise_then_6uhandlev:(e,t,n)=>y.addObject(y.objects[e].then(e=>{S(0,e),E(n)(t,0)}))},T=g;const k=T.objects;const C=T.addObject;let I=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];let B=["click","change","input","keydown","keyup","dblclick","blur","mousemove","mouseup","mousedown","keypress"],L=null;const M=e=>{const t=e.currentTarget.wasmId,n=e.currentTarget.wasmEvents[e.type],r=n.cbs;L=e,r.forEach(e=>T.instance.exports.domEvent(t,e.ctx,e.fun,n.eventType)),L=null};let R={appendChild:(e,t)=>{k[e].appendChild(k[t])},insertBefore:(e,t,n)=>{k[e].insertBefore(k[t],k[n])},addCss:(e,t)=>{var n=document.createElement("style");n.type="text/css",n.innerHTML=T.decodeStr(e,t),document.getElementsByTagName("head")[0].appendChild(n)},addClass:(e,t,n)=>{k[e].classList.add(T.decodeStr(t,n))},removeClass:(e,t,n)=>{k[e].classList.remove(T.decodeStr(t,n))},changeClass:(e,t,n,r)=>{r?k[e].classList.add(T.decodeStr(t,n)):k[e].classList.remove(T.decodeStr(t,n))},unmount:e=>{var t=k[e];t.parentNode.removeChild(t)},removeChild:e=>{var t=k[e];t.parentNode.removeChild(t)},getRoot:()=>C(document.querySelector("#root")),createElement:e=>C(document.createElement((e=>I[e])(e))),focus:e=>{k[e].focus()},setSelectionRange:(e,t,n)=>{k[e].setSelectionRange(t,n)},innerText:(e,t,n)=>{k[e].innerText=T.decodeStr(t,n)},setAttribute:(e,t,n,r,o)=>{const s=T.decodeStr(t,n),a=T.decodeStr(r,o);k[e].setAttribute(s,a)},addEventListener:(e,t,n,r,o)=>{var s=B[t],a=k[e];if(void 0===a.wasmEvents)var d=a.wasmEvents={};else d=k[e].wasmEvents;d[s]&&d[s].cbs.length>0?d[s].cbs.push({ctx:n,fun:r}):(d[s]={cbs:[{ctx:n,fun:r}],eventType:o},a.addEventListener(s,M))},removeEventListener:(e,t,n,r,o)=>{var s=B[t];if(void 0!==k[e].wasmEvents){var a=k[e].wasmEvents;a[s]&&a[s].cbs.length>0&&(a[s].cbs=a[s].cbs.filter(e=>!(e.ctx==n&&e.fun==r)))}},getEventBool:(e,t)=>!!L[T.decodeStr(e,t)],getEventInt:(e,t)=>0+L[T.decodeStr(e,t)],getEventString:(e,t,n)=>T.encodeStrIn(e,L[T.decodeStr(t,n)]),setPropertyBool:(e,t,n,r)=>{const o=k[e],s=T.decodeStr(t,n);o&&void 0!==o[s]&&(o[s]=r)},setPropertyInt:(e,t,n,r)=>{exp.jsExports.setPropertyBool(e,t,n,r)},setProperty:(e,t,n,r,o)=>{const s=k[e],a=T.decodeStr(t,n);s&&void 0!==s[a]&&(s[a]=T.decodeStr(r,o))},getPropertyInt:(e,t,n)=>{const r=k[e],o=T.decodeStr(t,n);return!(!r||void 0===r[o])&&+r[o]},getPropertyBool:(e,t,n)=>{const r=k[e],o=T.decodeStr(t,n);return!(!r||void 0===r[o])&&!!r[o]},getProperty:(e,t,n,r)=>{const o=k[t],s=T.decodeStr(n,r);return o&&void 0!==o[s]?T.encodeStrIn(e,o[s]):T.encodeStrIn(e,"")}};const U=[o,s,r];r.spasm.init(U)}]);</script></body>
</html>
